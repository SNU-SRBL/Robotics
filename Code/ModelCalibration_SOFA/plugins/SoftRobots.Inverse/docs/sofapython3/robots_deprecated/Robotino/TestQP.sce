 getd()  M = [	0.00622888621	0.00171723986	0.00140203352	0.00618134041	0.00170945955	0.00139616723	0.00357107914	0.00161236049	0.00139532782	0.00361813951	0.00162011128	0.00140119473	0.00103838887	0.000667556192	0.00974590062	-5.16416478e-06	-3.57680061e-07	0.0011922505	-0.0011977541	0.000728830404	0.000736816016	-0.00085909803	-0.000850848805	0.00171723986	0.0018142527	-0.00141443746	0.00169197942	0.00180951348	-0.00139210587	0.00161640576	0.000429538742	-0.00140349036	0.00164165065	0.000433985476	-0.00142583571	0.000830174527	-0.00374103061	0.00425279506	-0.000820518659	0.000323832422	0.000393603887	-0.000890279125	-0.0002364494	0.000532578047	-0.00109839776	-0.000329343036	0.00140203352	-0.00141443746	0.00640535416	0.00140155529	-0.00141412628	0.00635191524	-0.00139101117	0.001363726	0.00637478731	-0.0013910229	0.00136323622	0.00642825058	-0.000112916215	0.0104040328	8.23595222e-05	0.00119614977	-0.00119427532	6.06637147e-07	1.28235947e-06	0.000799661479	-0.00078364676	0.000800487371	-0.000782553873	0.00618134041	0.00169197942	0.00140155529	0.00613452237	0.00168432519	0.00139569163	0.00352481511	0.00158725909	0.00139485251	0.00357114858	0.00159488382	0.00140071678	0.00102289593	0.000667239974	0.00962452448	-4.92717866e-06	-8.15149928e-08	0.00117402452	-0.00117901508	0.000717535752	0.000725587463	-0.00084556673	-0.00083725173	0.00170945955	0.00180951348	-0.00141412628	0.00168432519	0.00180479722	-0.00139180537	0.0016086934	0.000425480263	-0.00140318443	0.00163381217	0.000429904993	-0.00142551909	0.000827280619	-0.00373907266	0.00423158901	-0.000820154341	0.000323653375	0.000390490259	-0.000886980258	-0.000238117658	0.000530326983	-0.00109553486	-0.000327062992	0.00139616723	-0.00139210587	0.00635191524	0.00139569163	-0.00139180537	0.00629923258	-0.00138520891	0.00134188593	0.00632174054	-0.00138522033	0.00134139754	0.0063744471	-0.000111244233	0.0102792187	8.19759616e-05	0.00117759219	-0.00117575822	5.89475095e-07	1.25920382e-06	0.00078706895	-0.000771324581	0.000787892722	-0.000770234613	0.00357107914	0.00161640576	-0.00139101117	0.00352481511	0.0016086934	-0.00138520891	0.00616604241	0.00170710208	-0.00138435825	0.0062128451	0.00171484772	-0.0013901611	0.00102966348	-0.000658084416	0.00953547626	1.46106437e-06	-6.96644969e-06	0.00118317145	-0.00118869113	0.00073324764	0.000721879696	-0.000843234799	-0.000854863061	0.00161236049	0.000429538742	0.001363726	0.00158725909	0.000425480263	0.00134188593	0.00170710208	0.00177870913	0.00135305045	0.00173225468	0.00178306303	0.00137490404	0.00072485598	0.00364951877	0.00422835241	0.000314248706	-0.000808294599	0.000391514672	-0.00088556514	0.000531821002	-0.000223111267	-0.000325390538	-0.00108034089	0.00139532782	-0.00140349036	0.00637478731	0.00139485251	-0.00140318443	0.00632174054	-0.00138435825	0.00135305045	0.00634443449	-0.00138436938	0.00135256149	0.00639750539	-0.000112089027	0.0103401463	8.19479522e-05	0.00118694994	-0.00118509572	5.98059656e-07	1.27073408e-06	0.000793420385	-0.000777539729	0.000794245656	-0.000776448642	0.00361813951	0.00164165065	-0.0013910229	0.00357114858	0.00163381217	-0.00138522033	0.0062128451	0.00173225468	-0.00138436938	0.00626037633	0.00174012652	-0.00139017255	0.00104516692	-0.000658112224	0.00965688817	1.20990771e-06	-7.22934029e-06	0.00120140781	-0.00120744144	0.000744506456	0.000733156444	-0.000856816725	-0.000868426948	0.00162011128	0.000433985476	0.00136323622	0.00159488382	0.000429904993	0.00134139754	0.00171484772	0.00178306303	0.00135256149	0.00174012652	0.00178743976	0.00137441369	0.000727708988	0.00364947038	0.00424956259	0.000314126121	-0.000808357336	0.000394629194	-0.000888864971	0.00053387518	-0.000221237259	-0.000327868817	-0.00108299931	0.00140119473	-0.00142583571	0.00642825058	0.00140071678	-0.00142551909	0.0063744471	-0.0013901611	0.00137490404	0.00639750539	-0.00139017255	0.00137441369	0.00645133345	-0.000113762333	0.0104650454	8.23315883e-05	0.00120551888	-0.00120362417	6.15232047e-07	1.29389981e-06	0.000806023725	-0.000789872489	0.000806851116	-0.000788778485	0.00103838887	0.000830174527	-0.000112916215	0.00102289593	0.000827280619	-0.000111244233	0.00102966348	0.00072485598	-0.000112089027	0.00104516692	0.000727708988	-0.000113762333	0.000799514499	-0.000332973995	0.00298911255	-0.000286140378	-0.000201315524	0.000150430312	-0.000637883811	-9.87253124e-05	-1.32657427e-05	-0.000839194668	-0.000753730591	0.000667556192	-0.00374103061	0.0104040328	0.000667239974	-0.00373907266	0.0102792187	-0.000658084416	0.00364951877	0.0103401463	-0.000658112224	0.00364947038	0.0104650454	-0.000332973995	0.02477722	5.25936976e-05	0.00309396786	-0.00308818952	2.21676316e-06	3.54281009e-06	0.00270917785	-0.00265883571	0.00270817237	-0.00265976377	0.00974590062	0.00425279506	8.23595222e-05	0.00962452448	0.00423158901	8.19759616e-05	0.00953547626	0.00422835241	8.19479522e-05	0.00965688817	0.00424956259	8.23315883e-05	0.00298911255	5.25936976e-05	0.0243093302	-2.72016636e-05	-3.11732814e-05	0.00305391515	-0.00311227671	0.00249187769	0.00248519862	-0.00284906937	-0.00285571231	-5.16416478e-06	-0.000820518659	0.00119614977	-4.92717866e-06	-0.000820154341	0.00117759219	1.46106437e-06	0.000314248706	0.00118694994	1.20990771e-06	0.000314126121	0.00120551888	-0.000286140378	0.00309396786	-2.72016636e-05	0.000713087489	-0.000233580782	0.00023324935	0.000246251486	0.000556475027	-7.97558048e-05	0.000564938514	-7.12953084e-05	-3.57680061e-07	0.000323832422	-0.00119427532	-8.15149928e-08	0.000323653375	-0.00117575822	-6.96644969e-06	-0.000808294599	-0.00118509572	-7.22934029e-06	-0.000808357336	-0.00120362417	-0.000201315524	-0.00308818952	-3.11732814e-05	-0.000233580782	0.000710972687	0.000231853799	0.000245543868	-8.62997093e-05	0.000548594498	-7.73312662e-05	0.000557565899	0.0011922505	0.000393603887	6.06637147e-07	0.00117402452	0.000390490259	5.89475095e-07	0.00118317145	0.000391514672	5.98059656e-07	0.00120140781	0.000394629194	6.15232047e-07	0.000150430312	2.21676316e-06	0.00305391515	0.00023324935	0.000231853799	0.000695749616	-0.000230643923	0.000521335584	0.00052023591	-0.000101269797	-0.000102364571	-0.0011977541	-0.000890279125	1.28235947e-06	-0.00117901508	-0.000886980258	1.25920382e-06	-0.00118869113	-0.00088556514	1.27073408e-06	-0.00120744144	-0.000888864971	1.29389981e-06	-0.000637883811	3.54281009e-06	-0.00311227671	0.000246251486	0.000245543868	-0.000230643923	0.000722436624	-5.11627141e-05	-5.13916789e-05	0.000588871067	0.000588637174	0.000728830404	-0.0002364494	0.000799661479	0.000717535752	-0.000238117658	0.00078706895	0.00073324764	0.000531821002	0.000793420385	0.000744506456	0.00053387518	0.000806023725	-9.87253124e-05	0.00270917785	0.00249187769	0.000556475027	-8.62997093e-05	0.000521335584	-5.11627141e-05	0.00121325266	0.000344140625	0.000410532384	-0.000458578145	0.000736816016	0.000532578047	-0.00078364676	0.000725587463	0.000530326983	-0.000771324581	0.000721879696	-0.000223111267	-0.000777539729	0.000733156444	-0.000221237259	-0.000789872489	-1.32657427e-05	-0.00265883571	0.00248519862	-7.97558048e-05	0.000548594498	0.00052023591	-5.13916789e-05	0.000344140625	0.00119671749	-0.000457795504	0.000394787267	-0.00085909803	-0.00109839776	0.000800487371	-0.00084556673	-0.00109553486	0.000787892722	-0.000843234799	-0.000325390538	0.000794245656	-0.000856816725	-0.000327868817	0.000806851116	-0.000839194668	0.00270817237	-0.00284906937	0.000564938514	-7.73312662e-05	-0.000101269797	0.000588871067	0.000410532384	-0.000457795504	0.00132316559	0.000454831103	-0.000850848805	-0.000329343036	-0.000782553873	-0.00083725173	-0.000327062992	-0.000770234613	-0.000854863061	-0.00108034089	-0.000776448642	-0.000868426948	-0.00108299931	-0.000788778485	-0.000753730591	-0.00265976377	-0.00285571231	-7.12953084e-05	0.000557565899	-0.000102364571	0.000588637174	-0.000458578145	0.000394787267	0.000454831103	0.00130819442      ]; q = [	0.00289994124	0.0209833004	-0.000569233508	0.00583338478	0	0	0.0058519789	0	0	0.00291318769	0.0203613514	-0.000573794593	0.0201141208	-0.00379397839	0.0277572209	3.13360781	3.1259739	3.05303469	3.20654694	10.106807	10.0868446	10.220432	10.2004693      ]'; f = [	3.1128985	-0.00480098765	-0.0437117299	0	0	0	0	0	0	3.19923116	-1.91953314	0.00461865248	0	0	0	6.07387852	5.4313567	0.160451317	24.4319452	4.96775862	2.19051696	4.22658685	3.74934868      ]';ddl_contact=[1 4 7 10];ddl_effector=[13 14 15]; //13 14 15ddl_actuator=[16 17 18]; //19 20 21 22 23numC=size(ddl_contact,2);numE=size(ddl_effector,2);numA=size(ddl_actuator,2);Mee=M(ddl_effector, ddl_effector);Mea=M(ddl_effector, ddl_actuator); Mae=Mea';Mec=M(ddl_effector, ddl_contact); Mce=Mec';Maa=M(ddl_actuator, ddl_actuator);Mac=M(ddl_actuator, ddl_contact); Mca=Mac';Mcc=M(ddl_contact , ddl_contact);Q=[Maa Mac;Mca Mcc];s=size(Q,1);//lamQ = Q+mean(Q)*0.1*eye(s,s);// on remodifie la matriceM([ddl_actuator ddl_contact], [ddl_actuator ddl_contact])=Q;p=q([ddl_actuator ddl_contact]);C=zeros(numE+numC,numA+numC);me=numE;//md=numE+numC;C(1:numE,:)=[Mea Mec];C(numE+1:numE+numC,:)=[-Mca -Mcc];b=zeros(numE+numC,1);b(1:numE)=-q([ddl_effector]);b(numE+1:numE+numC) = q([ddl_contact]);ci=zeros(numA+numC,1);for i=1:numA    ci(i)=-number_properties('huge');endfor i=numA+1:numA+numC,    ci(i)=0; endcs=[];// tant que les conditions de complementarité non remplies// vérifier delta non < 0 sur les contacts non actifs// vérifier lambda non <0 sur les contacts actifscclines=[numE+1:numE+numC];ccvalues=[size(Q,2)-numC+1: size(Q,2)][lambda, step] = qpccsolve(Q,p,C,b,ci,cs,me, cclines, ccvalues);stepf2=zeros(size(f,1),1);f2([ddl_actuator ddl_contact]) = lambda;d=M*f2+q[d([ddl_contact ddl_effector ddl_actuator]) f2([ddl_contact ddl_effector ddl_actuator])]////Me_ac=M([ddl_effector], [ddl_actuator ddl_contact]);//////Q=(Me_ac' * Me_ac)/2;//////cont_ind = [size(ddl_actuator,2)+1 :size(ddl_actuator,2)+size(ddl_contact,2)]//actu_ind = [1 :size(ddl_actuator,2)]////Q(cont_ind,cont_ind) = Q(cont_ind,cont_ind) + (M(ddl_contact,ddl_contact))/2;////// regularization//Q(actu_ind,actu_ind) = Q(actu_ind,actu_ind) + Q(1,1)*0.000001*eye(size(ddl_actuator,2),size(ddl_actuator,2))//////p=M([ddl_effector], [ddl_actuator ddl_contact])'*q(ddl_effector);////p=p+[zeros(1,size(ddl_actuator,2))'  ;q(ddl_contact)]//////C=-[M(ddl_contact,[ddl_actuator ddl_contact])];//b=[q(ddl_contact)];//////ci=[zeros(1,size(ddl_actuator,2)+size(ddl_contact,2))]';//ci=[];//cs=[];//me=0;//////f2=zeros(size(f,1),size(f,2));//f2(ddl_contact)=lambda(cont_ind);//f2(ddl_actuator)=lambda(actu_ind);//////q1=M*f+q;//q2=M*f2+q;////A=[norm(q1(ddl_effector)) norm(q2(ddl_effector))]